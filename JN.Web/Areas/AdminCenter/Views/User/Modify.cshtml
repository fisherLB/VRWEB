@model JN.Data.User
@{
    Layout = "~/Areas/AdminCenter/Views/Shared/_Layout.cshtml";
}
<!-- Content -->
<div id="content">
    <!-- Breadcrumb -->
    <ul class="breadcrumb">
        <li><a href="@Url.Action("Index", "Home")" class="glyphicons home"><i></i> 首页</a></li>
        <li class="divider"></li>
        <li>@ViewBag.Title</li>
        <li><a class="btn btn-primary newuser" style="font-size:12px;">填充一个随机数据(密码一级六个1，二级六个2，三级六个3)</a></li>
    </ul>
    <div class="separator bottom"></div>
    <!-- // Breadcrumb END -->
    <div class="innerLR">
        <div class="widget" data-toggle="collapse-widget" data-collapse-closed="false">

            <!-- Widget heading -->
            <div class="widget-head">
                <h4 class="heading">添加修改表单</h4>
                <span class="collapse-toggle"></span>
            </div>
            <!-- // Widget heading END -->

            <div class="widget-body in collapse" style="height: auto;">


                @using (Ajax.BeginForm("Modify", new { }, new AjaxOptions() { HttpMethod = "Post", OnSuccess = "afterPost" }, new { id = "saveForm", @class = "form-horizontal" }))
                {
                    <input type="hidden" name="ID" value="@Model.ID" />
                    @*<div class="control-group">
                <label class="control-label" for="username">ID：</label>

                <div class="controls">
                    <div class="clearfix">
                        <input type="text" name="username" class="form-control" value="@Model.UserName" @(Model.ID > 0 ? "readonly" : "") />
                    </div>
                </div>
            </div>*@

                    @*<div class="control-group">
                <label class="control-label" for="nickname">昵称：</label>
            <div class="controls">
                <input type="text" name="nickname" class="form-control" value="@Model.NickName" @(Model.ID > 0 ? "readonly" : "") />
            </div>
            </div>*@

                    <div class="control-group">
                        <label class="control-label" for="realname">真实姓名：</label>

                        <div class="controls">
                            <div class="clearfix">
                                <input type="text" name="realname" class="form-control" value="@Model.RealName" />
                            </div>
                        </div>
                    </div>

                    @*<div class="control-group">
                <label class="control-label">性别：</label>

                <div class="controls">
                    <div>
                            <input name="gender" value="男" @(Model.Sex == "男" ? "checked" : "") type="radio" class="ace" />
                            <span class="lbl"> 男</span>
                            <input name="gender" value="女" @(Model.Sex == "女" ? "checked" : "") type="radio" class="ace" />
                            <span class="lbl"> 女</span>
                    </div>
                </div>
            </div>*@

                    <div class="control-group">
                        <label class="control-label" for="countrycode">国家区号：</label>
                        <div class="controls">
                            <select name="countrycode" id="country" style="width:220px;">
                                <option value="+86">+86 中国</option>
                                <option value="+1">+1 美国</option>
                                <option value="+1">+1 加拿大</option>
                                <option value="+852">+852 香港</option>
                                <option value="+886">+886 台湾</option>
                                <option value="+81">+81 日本</option>
                                <option value="+82">+82 韩国</option>
                                <option value="+61">+61 澳大利亚</option>
                                <option value="+64">+64 新西兰</option>
                                <option value="+44">+44 英国</option>
                                <option value="+49">+49 德国</option>
                                <option value="+33">+33 法国</option>
                                <option value="+7">+7 俄罗斯</option>
                                <option value="+63">+63 菲律宾</option>
                                <option value="+84">+84 越南</option>
                                <option value="+960">+960 马尔代夫</option>
                                <option value="+378">+378 圣马力诺</option>
                                <option value="+501">+501 伯利兹</option>
                                <option value="+7">+7 哈萨克斯坦</option>
                                <option value="+237">+237 喀麦隆</option>
                                <option value="+354">+354 冰岛</option>
                                <option value="+36">+36 匈牙利</option>
                                <option value="+385">+385 克罗地亚</option>
                                <option value="+993">+993 土库曼斯坦</option>
                                <option value="+380">+380 乌克兰</option>
                                <option value="+241">+241 加蓬</option>
                                <option value="+235">+235 乍得</option>
                                <option value="+239">+239 圣多美 和普林西比</option>
                                <option value="+593">+593 厄瓜多尔</option>
                                <option value="+45">+45 丹麦</option>
                                <option value="+967">+967 也门</option>
                                <option value="+27">+27 南非</option>
                                <option value="+62">+62 印度尼西亚</option>
                                <option value="+211">+211 南苏丹</option>
                                <option value="+1784">+1784 圣文森特和格林纳丁斯</option>
                                <option value="+1721">+1721 圣马丁岛（荷兰部分）</option>
                                <option value="+996">+996 吉尔吉斯斯坦</option>
                                <option value="+253">+253 吉布提</option>
                                <option value="+1869">+1869 圣基 茨和尼维斯</option>
                                <option value="+359">+359 保加利亚</option>
                                <option value="+236">+236 中 非共和国</option>
                                <option value="+598">+598 乌拉圭</option>
                                <option value="+57">+57 哥伦比亚</option>
                                <option value="+243">+243 刚果民主共和国</option>
                                <option value="+972">+972 以色列</option>
                                <option value="+267">+267 博茨瓦纳</option>
                                <option value="+233">+233 加纳</option>
                                <option value="+242">+242 刚果共和国</option>
                                <option value="+256">+256 乌干达</option>
                                <option value="+670">+670 东帝汶</option>
                                <option value="+508">+508 圣彼埃尔和密克隆岛</option>
                                <option value="+220">+220 冈比亚</option>
                                <option value="+974">+974 卡塔尔</option>
                                <option value="+231">+231 利比里亚</option>
                                <option value="+998">+998 乌兹别克斯坦</option>
                                <option value="+1671">+1671 关岛</option>
                                <option value="+245">+245 几内亚比绍共和国</option>
                                <option value="+98">+98 伊朗</option>
                                <option value="+374">+374 亚美尼亚</option>
                                <option value="+423">+423 列支敦士登</option>
                                <option value="+1758">+1758 圣露西亚</option>
                                <option value="+506">+506 哥斯达黎加</option>
                                <option value="+964">+964 伊拉克</option>
                                <option value="+352">+352 卢森堡</option>
                                <option value="+963">+963 叙利亚</option>
                                <option value="+91">+91 印度</option>
                                <option value="+250">+250 卢旺达</option>
                                <option value="+53">+53 古巴</option>
                                <option value="+90">+90 土耳其</option>
                                <option value="+218">+218 利比亚</option>
                                <option value="+975">+975 不丹</option>
                                <option value="+224">+224 几内亚</option>
                                <option value="+1649">+1649 特克斯和凯科斯群岛</option>
                                <option value="+238">+238 开普</option>
                                <option value="+880">+880 孟加拉国</option>
                                <option value="+505">+505 尼加拉瓜</option>
                                <option value="+227">+227 尼日尔</option>
                                <option value="+1809">+1809 多明尼加共和国</option>
                                <option value="+1264">+1264 安圭拉</option>
                                <option value="+234">+234 尼日利亚</option>
                                <option value="+255">+255 坦桑尼亚</option>
                                <option value="+977">+977 尼泊尔</option>
                                <option value="+1767">+1767 多米尼加</option>
                                <option value="+92">+92 巴基斯坦</option>
                                <option value="+55">+55 巴西</option>
                                <option value="+381">+381 塞尔维亚</option>
                                <option value="+226">+226 布基纳法索</option>
                                <option value="+1246">+1246 巴巴多斯</option>
                                <option value="+376">+376 安道尔</option>
                                <option value="+675">+675 巴布亚新几 内亚</option>
                                <option value="+58">+58 委内瑞拉</option>
                                <option value="+973">+973 巴林</option>
                                <option value="+682">+682 库克群岛</option>
                                <option value="+592">+592 圭亚那</option>
                                <option value="+357">+357 塞浦路斯</option>
                                <option value="+43">+43 奥地利</option>
                                <option value="+248">+248 塞舌尔</option>
                                <option value="+52">+52 墨西哥</option>
                                <option value="+992">+992 塔吉克斯坦</option>
                                <option value="+20">+20 埃及</option>
                                <option value="+507">+507 巴拿马</option>
                                <option value="+599">+599 库拉索</option>
                                <option value="+232">+232 塞拉利昂</option>
                                <option value="+1268">+1268 安提瓜 和巴布达</option>
                                <option value="+970">+970 巴勒斯 坦领土</option>
                                <option value="+680">+680 帕劳</option>
                                <option value="+30">+30 希腊</option>
                                <option value="+221">+221 塞内加尔</option>
                                <option value="+257">+257 布隆迪</option>
                                <option value="+686">+686 基里巴斯</option>
                                <option value="+251">+251 埃塞俄比亚</option>
                                <option value="+1242">+1242 巴哈马</option>
                                <option value="+228">+228 多哥</option>
                                <option value="+244">+244 安哥拉</option>
                                <option value="+595">+595 巴拉圭</option>
                                <option value="+94">+94 斯里兰卡</option>
                                <option value="+216">+216 突尼斯</option>
                                <option value="+371">+371 拉脱维亚</option>
                                <option value="+1441">+1441 百慕大群岛</option>
                                <option value="+269">+269 科摩罗</option>
                                <option value="+47">+47 挪威</option>
                                <option value="+66">+66 泰国</option>
                                <option value="+372">+372 爱沙尼亚</option>
                                <option value="+689">+689 法属波利尼 西亚</option>
                                <option value="+855">+855 柬埔寨</option>
                                <option value="+222">+222 毛里塔尼亚</option>
                                <option value="+65">+65 新加坡</option>
                                <option value="+230">+230 毛里求斯</option>
                                <option value="+46">+46 瑞典</option>
                                <option value="+594">+594 法属圭亚那</option>
                                <option value="+375">+375 白俄罗斯</option>
                                <option value="+687">+687 新喀里多尼亚</option>
                                <option value="+387">+387 波斯 尼亚和黑塞哥维那</option>
                                <option value="+268">+268 斯威士兰</option>
                                <option value="+421">+421 斯洛伐克</option>
                                <option value="+51">+51 秘鲁</option>
                                <option value="+679">+679 斐济</option>
                                <option value="+966">+966 沙特阿拉伯</option>
                                <option value="+509">+509 海地</option>
                                <option value="+504">+504 洪都拉斯</option>
                                <option value="+373">+373 摩尔多瓦</option>
                                <option value="+32">+32 比利时</option>
                                <option value="+1787">+1787 波多黎各</option>
                                <option value="+590">+590 瓜德罗普岛</option>
                                <option value="+965">+965 科威特</option>
                                <option value="+56">+56 智利</option>
                                <option value="+48">+48 波兰</option>
                                <option value="+39">+39 意大利</option>
                                <option value="+298">+298 法罗群岛</option>
                                <option value="+1345">+1345 开曼群岛</option>
                                <option value="+350">+350 直布罗陀</option>
                                <option value="+676">+676 汤加</option>
                                <option value="+1868">+1868 特立尼 达和多巴哥</option>
                                <option value="+263">+263 津巴布韦</option>
                                <option value="+502">+502 瓜地马拉</option>
                                <option value="+420">+420 捷克</option>
                                <option value="+591">+591 玻利维亚</option>
                                <option value="+386">+386 斯洛文尼亚</option>
                                <option value="+853">+853 澳门</option>
                                <option value="+262">+262 留尼汪</option>
                                <option value="+41">+41 瑞士</option>
                                <option value="+1876">+1876 牙买加</option>
                                <option value="+995">+995 格鲁吉亚</option>
                                <option value="+1473">+1473 格林纳达</option>
                                <option value="+353">+353 爱尔兰</option>
                                <option value="+673">+673 文莱</option>
                                <option value="+299">+299 格陵兰岛</option>
                                <option value="+377">+377 摩纳哥</option>
                                <option value="+677">+677 所罗门群岛</option>
                                <option value="+678">+678 瓦努阿图</option>
                                <option value="+212">+212 摩洛哥</option>
                                <option value="+254">+254 肯尼亚</option>
                                <option value="+597">+597 苏里南</option>
                                <option value="+856">+856 老挝</option>
                                <option value="+40">+40 罗马尼亚</option>
                                <option value="+249">+249 苏丹</option>
                                <option value="+95">+95 缅甸</option>
                                <option value="+370">+370 立陶宛</option>
                                <option value="+252">+252 索马里</option>
                                <option value="+1684">+1684 美属萨摩亚</option>
                                <option value="+358">+358 芬兰</option>
                                <option value="+264">+264 纳米比亚</option>
                                <option value="+962">+962 约旦</option>
                                <option value="+229">+229 贝宁</option>
                                <option value="+356">+356 马耳他</option>
                                <option value="+258">+258 莫桑比克</option>
                                <option value="+213">+213 阿尔及利亚</option>
                                <option value="+225">+225 象牙海岸</option>
                                <option value="+93">+93 阿富汗</option>
                                <option value="+265">+265 马拉维</option>
                                <option value="+1664">+1664 蒙特塞拉特岛</option>
                                <option value="+503">+503 萨尔瓦多</option>
                                <option value="+247">+247 阿森松岛</option>
                                <option value="+971">+971 阿拉伯 联合酋长国</option>
                                <option value="+685">+685 萨摩亚</option>
                                <option value="+297">+297 阿鲁巴</option>
                                <option value="+968">+968 阿曼</option>
                                <option value="+355">+355 阿尔巴尼亚</option>
                                <option value="+994">+994 阿塞拜疆</option>
                                <option value="+976">+976 蒙古</option>
                                <option value="+596">+596 马提尼克</option>
                                <option value="+260">+260 赞比亚</option>
                                <option value="+266">+266 莱索托</option>
                                <option value="+269">+269 马约特</option>
                                <option value="+389">+389 马其顿</option>
                                <option value="+34">+34 西班牙</option>
                                <option value="+351">+351 葡萄牙</option>
                                <option value="+240">+240 赤道几内亚</option>
                                <option value="+31">+31 荷兰</option>
                                <option value="+60">+60 马来西亚</option>
                                <option value="+54">+54 阿根廷</option>
                                <option value="+261">+261 马达加斯加</option>
                                <option value="+223">+223 马里</option>
                                <option value="+961">+961 黎巴嫩</option>
                                <option value="+382">+382 黑山</option>
                            </select>
                        </div>
                    </div>

                    <div class="control-group">
                        <label class="control-label" for="phone">手机号码：</label>
                        <div class="controls">
                            <input type="text" name="mobile" class="form-control" value="@Model.Mobile" />
                        </div>
                    </div>

                    @*<div class="control-group">
                <label class="control-label" for="tel">电话：</label>

                <div class="controls">
                    <div class="clearfix">
                        <input type="tel" name="tel" class="form-control" value="@Model.Tel" />
                    </div>
                </div>
            </div>*@


                    <div class="control-group">
                        <label class="control-label" for="email">个人买入：</label>
                        <div class="controls">
                            <input type="text" name="ShowBuyTradeNum" class="form-control" value="@Model.ShowBuyTradeNum" />
                        </div>
                    </div>

                    <div class="control-group">
                        <label class="control-label" for="email">邮箱：</label>

                        <div class="controls">
                            <input type="email" name="email" class="form-control" value="@Model.Email" />
                        </div>
                    </div>
                    if (Model.ID == 0)
                    {
                        <div class="control-group">
                            <label class="control-label" for="email">登录密码：</label>

                            <div class="controls">
                                <input type="password" name="password" class="form-control" value="" />
                            </div>
                        </div>

                        <div class="control-group">
                            <label class="control-label" for="email">二级密码：</label>

                            <div class="controls">
                                <input type="password" name="password2" class="form-control" value="" />
                            </div>
                        </div>
                        <div class="control-group">
                            <label class="control-label" for="email">安全口令：</label>

                            <div class="controls">
                                <input type="password" name="password3" class="form-control" value="" />
                            </div>
                        </div>
                    }
                    <div class="hr hr-dotted"></div>

                    <div class="control-group">
                        <label class="control-label" for="idcard">身份证号码：</label>

                        <div class="controls">
                            <input type="text" name="idcard" class="form-control" value="@Model.IDCard" />
                        </div>
                    </div>
                    <div class="control-group">
                        <label class="control-label" for="url">身份证照片：</label>

                        <div class="controls" id="area">
                            <div id="MainPic">
                                @{
                                    int ImgCount = 0;
                                    if (Model.IDCardPic1 == null || Model.IDCardPic1.Length == 0)
                                    {
                                        <img style="width: 180px; height: 180px" src="/common/theme/images/nopictures.jpg" />
                                    }
                                    else
                                    {
                                        string[] images = Model.IDCardPic1.Split(';');
                                        string imgid = "";
                                        //ImgCount = images.Length;
                                        for (int i = 0; i < images.Length; i++)
                                        {
                                            if (images[i].Length > 0)
                                            {
                                                ImgCount++;
                                                imgid = "tmpImg" + i;
                                                <img id="@imgid" style="width: 180px; height: 180px" src="@images[i]" />
                                                <input type="image" onclick="funDelImg(@i, this, '@images[i]')" src="/common/theme/images/a_close.png" />
                                            }
                                        }
                                    }
                                }
                            </div>

                            @*<img style="width: 180px; height: 180px" id="MainPic" src="@JN.Services.Tool.StringHelp.GetFirstStr(@Model.ImageUrl)" />*@
                            <input type="button" id="btnUpManiPic" value="添加图片" class="" />
                            @*<input type="hidden" name="ImageUrl" id="hidMainimgSrc" value="" />*@
                            <input type="hidden" name="IDCardPic1" id="hidMainimgSrc" value="@Model.IDCardPic1" />
                            <input type="hidden" id="hidImgCount" value="@ImgCount" />
                        </div>
                    </div>

                    @*<div class="control-group">
                <label class="control-label" for="url">所在地区：</label>

                <div class="controls" id="area">
                    <select id="province"></select><input type="hidden" name="province" id="hidprovince" value="@Model.Province" />
                    <select id="city"></select><input type="hidden" name="city" id="hidcity" value="@Model.City" />
                    <select id="county"></select><input type="hidden" name="county" id="hidcounty" value="@Model.County" />
                </div>
            </div>*@

                    @*

            <div class="control-group">
                <label class="control-label" for="qq">QQ：</label>

                <div class="controls">
                    <div class="clearfix">
                        <input type="text" name="qq" class="form-control" value="@Model.QQ" />
                    </div>
                </div>
            </div>*@

                    @*<div class="hr hr-dotted"></div>

            <div class="control-group">
                <label class="control-label" for="question">密保问题：</label>

                <div class="controls">
                    <div class="clearfix">
                        <input type="text" name="question" class="form-control" value="@Model.Question" />
                    </div>
                </div>
            </div>

            <div class="control-group">
                <label class="control-label" for="answer">密保答案：</label>

                <div class="controls">
                    <div class="clearfix">
                        <input type="text" name="answer" class="form-control" value="@Model.Answer" />
                    </div>
                </div>
            </div>*@
                    @*<div class="control-group">
                <label class="control-label" for="address">收货地址：</label>

                <div class="controls">
                    <div class="clearfix">
                        <input type="text" name="address" class="form-control" value="@Model.Address" />
                    </div>
                </div>
            </div>*@
                    <div class="hr hr-dotted"></div>
                    <div class="control-group">
                        <label class="control-label" for="address">支付宝帐号：</label>

                        <div class="controls">
                            <div class="clearfix">
                                <input type="text" name="alipay" class="form-control" value="@Model.AliPay" />
                            </div>
                        </div>
                    </div>
                    <div class="control-group">
                        <label class="control-label" for="bankname">银行卡发卡行：</label>

                        <div class="controls">
                            <div class="clearfix">
                                @*<input type="text" name="bankname" class="form-control" value="@Model.BankName" />*@

                                @Html.DropDownList("bankname", new SelectList(MvcCore.Unity.Get<JN.Data.Service.ISysParamService>().List(x => x.PID == 5000).OrderBy(x => x.Sort), "Name", "Value", Model.BankName), new { @class = "form-control" })
                                @*@Html.DropDownList("bankname", new SelectList(JN.BLL.sysparams.GetModelList("PID=5000 order by sort"), "Name", "Value", Model.BankName))*@
                            </div>
                        </div>
                    </div>

                    <div class="control-group">
                        <label class="control-label" for="bankcard">银行卡号：</label>

                        <div class="controls">
                            <div class="clearfix">
                                <input type="text" name="bankcard" class="form-control" value="@Model.BankCard" />
                            </div>
                        </div>
                    </div>

                    <div class="control-group">
                        <label class="control-label" for="bankofdeposit">开户行：</label>

                        <div class="controls">
                            <div class="clearfix">
                                <input type="text" name="bankofdeposit" class="form-control" value="@Model.BankOfDeposit" />
                            </div>
                        </div>
                    </div>

                    <div class="control-group">
                        <label class="control-label" for="bankuser">银行卡户名：</label>

                        <div class="controls">
                            <div class="clearfix">
                                <input type="text" name="bankuser" class="form-control" value="@Model.BankUser" />
                            </div>
                        </div>
                    </div>

                    @*if (!Model.IsActivation)
            {
                   <div class="control-group">
                       <label class="control-label" for="investment">注册类型:</label>
                       <div class="controls">
                           <div class="clearfix">
                               @Html.DropDownList("investment", new SelectList(MvcCore.Unity.Get<JN.Data.Service.ISysParamService>().List(x => x.PID == 1000 && x.IsUse).OrderBy(x => x.Sort), "Value", "Name", Model.Investment.ToString("F0")), new { @class = "form-control" })

                           </div>
                       </div>
                   </div>
            }*@
                    if (Model.ID > 0)
                    {
                        <div class="control-group">
                            <label class="control-label" for="CreditValue">信用值：</label>

                            <div class="controls">
                                <div class="clearfix">
                                    <input type="text" name="CreditValue" class="form-control" value="@Model.CreditValue" />
                                </div>
                            </div>
                        </div>
                        <div class="control-group">
                            <label class="control-label" for="GoodScore">好评分：</label>

                            <div class="controls">
                                <div class="clearfix">
                                    <input type="text" name="GoodScore" class="form-control" value="@Model.GoodScore" />
                                </div>
                            </div>
                        </div>

                        <div class="control-group">
                            <label class="control-label" for="bankuser">重置登录密码：</label>

                            <div class="controls">
                                <div class="clearfix">
                                    <input type="text" name="resetpassowrd" value="" class="form-control" />
                                </div>
                            </div>
                        </div>
                        <div class="control-group">
                            <label class="control-label" for="bankuser">重置二级密码：</label>

                            <div class="controls">
                                <div class="clearfix">
                                    <input type="text" name="resetpassowrd2" value="" class="form-control" />
                                </div>
                            </div>
                        </div>
                        <div class="control-group">
                            <label class="control-label" for="bankuser">重置安全口令：</label>

                            <div class="controls">
                                <div class="clearfix">
                                    <input type="text" name="resetpassowrd3" value="" class="form-control" />
                                </div>
                            </div>
                        </div>
                    }
                    <div class="hr hr-dotted"></div>
                    <div class="control-group">
                        <label class="control-label">&nbsp;</label>
                        <div class="controls">
                            <button class="btn btn-primary" type="submit">
                                保 存
                            </button>
                            <a href="javascript:history.go(-1);" class="btn btn-grey">
                                <i class="icon-arrow-left"></i>
                                返 回
                            </a>
                        </div>
                    </div>
                }

                <!-- PAGE CONTENT ENDS -->
            </div><!-- /.row -->
        </div><!-- /.row -->
            </div><!-- /.row -->
        </div><!-- /.page-content -->
        @section scripts{
            <script src="~/Plugin/Jquery/jquery.unobtrusive-ajax.min.js"></script>
            <!--上传图片-->
            <link href="~/Plugin/kindeditor-4.1.9/themes/default/default.css" rel="stylesheet" />
            <link href="~/Plugin/kindeditor-4.1.9/plugins/code/prettify.css" rel="stylesheet" />

            <script src="~/Plugin/kindeditor-4.1.9/kindeditor.js"></script>
            <script src="~/Plugin/kindeditor-4.1.9/lang/en.js"></script>

<link href="~/Plugin/select/select2.css" rel="stylesheet" /><!--国家下拉搜索选项css-->
<script src="~/Plugin/select/pinyin.js"></script><!--国家下拉搜索选项js-->
<script src="~/Plugin/select/select2.js"></script><!--国家下拉搜索选项js-->

            <script type="text/javascript">
                $(function () {      
                    $('#country').find("option[value='@((Model.CountryCode ==null ||Model.CountryCode=="") ? "+86": Model.CountryCode)']").attr("selected", true);
                    $("#country").select2({
                        placeholder: 'Select an option',
                    });                  
                });
          
                function afterPost(data) {
                    if (data.Status == 200) {
                        alert("保存成功，即将为您跳转页面!");
                        location.href = "@(Url.Action("List"))";
                    } else {
                        alert("保存失败！错误信息：" + data.Message);
                    }
                } 

                $(".newuser").on('click', function () {
                    eval("var word=" + '"\\u' + (Math.round(Math.random() * 20901) + 19968).toString(16) + '"');
                    eval("var word2=" + '"\\u' + (Math.round(Math.random() * 20901) + 19968).toString(16) + '"');
                    $("input[name='realname']").val("李" + word + word2);
                    $("input[name='password']").val("111111");
                    $("input[name='confirmpassword']").val("111111");
                    $("input[name='password2']").val("222222");
                    $("input[name='password3']").val("333333");
                    $("input[name='username']").val("" + parseInt(10 * Math.random()) + parseInt(10 * Math.random()) + parseInt(10 * Math.random()) + parseInt(10 * Math.random()) + parseInt(10 * Math.random()) + parseInt(10 * Math.random()));
                    $("input[name='gender']").attr("checked", '男');
                    $("input[name='mobile']").val("186456" + parseInt(10 * Math.random()) + parseInt(10 * Math.random()) + parseInt(10 * Math.random()) + parseInt(10 * Math.random()) + parseInt(10 * Math.random()));
                    $("input[name='email']").val("oemsys" + parseInt(10 * Math.random()) + parseInt(10 * Math.random()) + parseInt(10 * Math.random()) + "@@163.com");
                    $("input[name='nickname']").val("李" + word + word2);
                    $("input[name='confirmemail']").val($("input[name='email']").val());
                    $("select[name='bankname']").val("中国银行");
                    $("input[name='bankcard']").val("6217 0033 9700 " + parseInt(10 * Math.random()) + parseInt(10 * Math.random()) + parseInt(10 * Math.random()) + parseInt(10 * Math.random()) + " 918");
                    $("input[name='bankofdeposit']").val("广西南宁北郊支行");
                    $("input[name='bankuser']").val($("input[name='realname']").val());
                    getUserID();
                });

                //上传主图
                KindEditor.ready(function (K) {
                    //var hidId = $("#hidmodelId").val();
                    var editor = K.editor({
                        uploadJson: '/AdminCenter/User/UpMainPic?uid=' + "@Model.ID",
                        allowFileManager: true
                    });
                    K('#btnUpManiPic').click(function () {
                        editor.loadPlugin('image', function () {
                            editor.plugin.imageDialog({
                                showRemote: false,
                                imageUrl: K('#UrlMainPic').val(),
                                clickFn: function (url, title, width, height, border, align) {
                                    if (K('#hidImgCount').val() == "0") {
                                        K("#MainPic").html("");
                                    }
                                    if (K('#hidImgCount').val() == "2") {
                                        alert("最多可上传2张图片");
                                        editor.hideDialog();
                                        return false;
                                    }
                                    //.attr("src", url);
                                    var newImageHtml = "<img id=\"tmpImg" + parseInt(K('#hidImgCount').val()) + "\" style=\"width: 180px; height: 180px\" src=\"" + url + "\" />";
                                    //var delHtml =" <i class=\"iLeft\" ><a href=\"javascript:\" >×</a></i>";
                                    var delHtml = "<input type=\"image\" onclick=\"funDelImg(" + parseInt(K('#hidImgCount').val()) + ",this,'" + url + "')\" src=\"/common/theme/images/a_close.png\"  title=\"\" />";
                                    K("#MainPic").append(newImageHtml);
                                    K("#MainPic").append(delHtml);

                                    K('#hidMainimgSrc').val(K('#hidMainimgSrc').val() + ";" + url);
                                    var count = parseInt(K('#hidImgCount').val()) + 1;
                                    K('#hidImgCount').val(count);
                                    editor.hideDialog();
                                }
                            });
                        });
                    });
                });

                //显示主图
                function funDelImg(index, obj, url) {
                    //删除点击的图片
                    var objName = "#tmpImg" + index;
                    var MainimgSrc = $('#hidMainimgSrc').val();
                    MainimgSrc = MainimgSrc.replace(url, "");
                    $('#hidMainimgSrc').val(MainimgSrc);
                    //修改当前图片的数量
                    var count = parseInt($('#hidImgCount').val()) - 1;
                    $('#hidImgCount').val(count);

                    //当删除所有图片时重新显示默认图片
                    if (count == 0) {
                        $('#hidMainimgSrc').val("");
                        var defImg = " <img style=\"width: 180px; height: 180px\" src=\"/common/theme/images/nopictures.jpg\" />";
                        $('#MainPic').append(defImg);
                    }

                    //删除当前图片和x图片
                    $(objName).remove();
                    $(obj).remove();
                }

            </script>
        }
